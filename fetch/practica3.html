<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fetch 3</title>
  </head>
  <body>
    <div id="map"></div>

    <script>
      var coordenadas = {
        lat: 0,
        lng: 0
      };

      var propiedades = {
        center: coordenadas,
        zoom: 2
      };

      function obtieneMarcadores() {
        const markers = [
          {
            name: "Mexico",
            longitude: "-99.1277",
            latitude: "19.426"
          },
          {
            name: "Brazil",
            longitude: "-47.9292",
            latitude: "-15.7801"
          },
          {
            name: "Spain",
            longitude: "-3.70327",
            latitude: "40.4167"
          }
        ];

        return markers;
      }

      function iniciaMapa() {
        const map = new google.maps.Map(
          document.getElementById("map"),
          propiedades
        );

        const marcadores = obtieneMarcadores();

        console.log(marcadores);

        for (marcador of marcadores) {
          let marker = new google.maps.Marker({
            map: map,
            position: new google.maps.LatLng(
              marcador.latitude,
              marcador.longitude
            ),
            title: marcador.name
          });
        }
      }
    </script>

    <script
      async
      defer
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyADjOfdGIg-7JiqjoTstMN9el4g-nLhxxA&callback=iniciaMapa"
    ></script>
  </body>
</html>
